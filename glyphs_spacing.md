# Установка межбуквенных просветов
[//]: <> (Установка межбуквенных просветов у Карова, letter spacing в оригинале. Глава 9, стр. 166-184)

Original text by Rainer Erich Scheichelbauer

> Определение полуапрошей т. е. расстояний справа и слева от ваших глифов до края кегельной площадки называется установкой межбуквенных просветов. Межбуквенные просветы играют важную роль в общем качестве вашего дизайна. Вот наши рекомендации, как успешно сделать это в Glyphs.

## Начало

При работе над межбуквенными просветами латиницы лучше всего начинать с букв **n** и **o**. Как только эти две буквы будут иметь правильные апроши, остальное будет относительно просто. Поэтому я рекомендую вам набрать что-то вроде <mark>noononno</mark> и возиться с этими апрошами до тех пор, пока вы не останетесь довольны. В этой строке есть **n** между двумя **o**, **o** между двумя **n**, **двойная o** и **двойная n:** если вам удастся сделать так, чтобы все они казались равноудаленными друг от друга, вы на коне.

Вы можете проверить апроши и ширину любого глифа, взглянув на серую информационную панель (*View > Show Info*, **Cmd-Shift-I**):

![Info panel](/img/grey_info_panel.png "Grey info panel")

Вы можете получить доступ к тем же значениям через область glyph info в левом нижнем углу вкладки "Font" (Что? Да! Это вкладка Font). Или через столбцы LSB и RSB в режиме списка. Возможно, сначала потребуется активировать столбцы через контекстное меню заголовка списка. Порядок столбцов можно изменить, перетаскивая заголовки столбцов.

![Pic 2](https://cdn2.glyphsapp.com/media/pages/learn/spacing/981d5f3f92-1624987024/spacing-2-1280x-q80.webp)

Какой бы способ вы ни предпочли, чтобы изменить полуапрош, просто кликните на числе и введите новое значение. Кстати, область glyph info слева внизу позволяет редактировать несколько глифов одновременно. Для этого достаточно  выделить несколько глифов. 

Если только вы не сделали что-то действительно безумное, буква o должна иметь равные левый и правый полуапроши. Хорошей отправной точкой будет треть ширины внутребуквенного белого. Немного больше, если шрифт предназначен для мелкокегельного набора, немного меньше для акцидентного набора, в зависисимости для чего вы проектируете свой шрифт. Немного больше, если полуовалы уплощены (и, следовательно, оставляют меньше свободного пространства по бокам, что необходимо компенсировать), немного меньше, если полуовалы очень круглые. Нюанс: работать с разряженным набором легче, чем с плотным.

![Pic 3](https://cdn2.glyphsapp.com/media/pages/learn/spacing/0483255731-1642428185/keys-for-spacing-1280x-q80.webp)

В Glyphs используется набор интуитивно понятных сочетаний клавиш для изменения полуапрошей текущего глифа. Так, установите курсор перед буквой o, удерживайте **Ctrl** для левого или **Cmd** для правого полуапроша, а затем нажимайте **стрелки влево и вправо** для уменьшения или увеличения соответствующего значения. Если вы дополнительно удерживаете **Shift**, то получите увеличение на 10:

![Pic 4](https://cdn2.glyphsapp.com/media/pages/learn/spacing/f399c8453a-1624987024/spacing-3.gif)

## Конфликт сочетаний клавиш

Осторожно: по умолчанию сочетание **Ctrl-стрелки** зарезервирована для переключения между пространствами (Spaces) в macOS. Таким образом, вам нужно отключить комбинацию для контроля пространств или поменять его на что-то другое, чтобы освободить Ctrl-стрелки для Glyphs. Для этого в macOS Mountain Lion и выше перейдите в меню *Системные настройки > Клавиатура > Сочетания клавиш*, выберите Mission Control из списка слева и дважды щелкните *На одно пространство влево* (Move left a space) и *На одно пространство вправо* (Move right a space), чтобы ввести новые ярлыки. Лично я вообще отключил эти ярлыки, потому что вы все равно можете перемещаться по Пространствам с помощью жеста пролистывания четырьмя пальцами:

![Pic 5](https://cdn2.glyphsapp.com/media/pages/learn/spacing/51288787f8-1624987024/spacing-5-1280x-q80.webp)

Затем **n**. Поскольку в углах **n** обычно гораздо меньше белого, нам нужно компенсировать это увеличением его апрошей. Хорошей отправной точкой здесь будет значение примерно в 1.5 раза большее чем апроши в **o**, не считая засечек. Засечки заходят на белое пространство апрошей и, таким образом, эффективно уменьшают значения LSB и RSB.

Кроме того буква **n** не симметрична. Правый верхний угол—это плечо, поэтому справа остается больше свободного пространства, чем слева. Нам нужно как-то это компенсировать. А вот и сюрприз: если нажать на клавиши **Ctrl и Cmd**, то вы одновременно измените и левый, и правый полуапроши, эффективно перемещая букву в пределах ее *неизменной кегельной площадки*:

![Pic 6](https://cdn2.glyphsapp.com/media/pages/learn/spacing/0c0c8db36e-1624987024/spacing-4.gif)

Таким образом, вы можете несколько раз сдвинуть букву n немного вправо, пока она не окажется по центру между буквами **o**. Вы закончили с **n** и **o**, при условии что расстояния между всеми буквами в <mark>noononno</mark> одинаковы, и оно выглядит нормально в том размере, для которого предназначено.


## Заполнители (Placeholders)

Теперь переходим к другим буквам. Мне нравится добавлять вторую строку и вводить букву, над которой я хочу поработать дальше, например **h**. Но вы хотите видеть эту букву между **о**, как и **n** до этого. Вы можете сделать это в Glyphs: просто пройдитесь по строке и замените все **n** на заполнитель. Вы можете "набрать" заполнитель с помощью меню *Edit > Add Placeholder* (**Cmd-Opt-Shift-P**).

Заполнитель *всегда отображает текущий глиф*, то есть глиф стоящий сразу после курсора:

![Pic 7](https://cdn2.glyphsapp.com/media/pages/learn/spacing/f87d85538e-1624987024/spacing-6.gif)

Будьте внимательны, заполнитель может вести себя странно, если курсор находится в конце введенного вами тестового текста. В этом случае просто переместите курсор назад перед другой буквой.


## Арифметика полуапрошей

Но подождите, с буквой **h** должно быть все просто, если у нас уже есть **n**. Во многих случаях у него могут быть те же апроши, что и у **n**, потому что, за исключением выносного элемента, **h** и **n** выглядят практически одинаково, по крайней мере в гротесках. Так, например, мы можем глянуть **n** и скопировать полуапроши в серую информационную область (**Cmd-Shift-I**) **h**. Но это не лучший подход—подумайте что произойдет, если мы позже снова изменим полуапроши **n**? Неужели мы действительно хотим отслеживать все апроши вручную? Конечно же нет.

Мы поступим следующим образом: вместо того чтобы вводить числовое значение полуапроша, мы введем название другого глифа! Glyphs продублирует значение полуапроша другой буквы в текущей букве. Это работает даже для ширины: если задать RSB и Width, то пересчитается LSB, если задать LSB и Width, то будет рассчитан RSB. Таким образом, мы вводим **n** как в LSB, так и в RSB **n**, и **h** автоматически принимает полуапроши буквы **n**:

![Pic 8](https://cdn2.glyphsapp.com/media/pages/learn/spacing/77a654ff8a-1624987024/spacing-7-1280x-q80.webp)

Однако автоматика не стопроцентная. Время от времени стоит заставлять выбранные глифы обновлять свои полуапроши, выбрав *Glyph > Update Metrics* (**Ctrl-Cmd-M**). Вы даже можете обновить метрики для всех мастеров сразу, нажав **Crtl-Opt-Cmd-M** или удерживая клавишу **Opt** при выборе команды меню. При этом будут обновлены все выбранные глифы. Таким образом, вы можете обновить метрики сразу для всех глифов.

Но этим дело не ограничивается. Вам доступна простая арифметика. В этом случае вы начинаете запись значения полуапрошей или ширины со знака равенства (=) и дальше набираете свои вычисления. Так, если вы используете <mark>=a+20</mark> в поле LSB для глифа, Glyphs возьмет значение LSB, равное **a**, и прибавит к нему 20 единиц. Если вместо этого вы используете <mark>=|a+20</mark>, то есть поставите вертикальную черту перед именем глифа, то Glyphs возьмет за основу вычисления противоположную сторону **a**. Вы можете не  просто складывать, вы также можете вычитать: <mark>=b-10</mark>, умножать: <mark>=c*1.1</mark> и делить: <mark>=d/2</mark>. По нашему опыту, простое сложение и вычитание фиксированных значений работает лучше всего в большинстве ситуаций.

Если вы не хотите, чтобы у светлого **n** были такие же полуапроши или ширина, как у полужирного **n**, просто добавьте второй знак равенства, например <mark>==n+15</mark>, тогда это будет работать только в одном мастере.

Опять же, не забывайте регулярно выполнять команду *Glyph > Update Metrics* **(Ctrl-Cmd-M)**, или **Ctrl-Opt-Cmd-M** для всех мастеров. Итак, ищите сходство в формах букв, пытайтесь установить связи между ними и попытайтесь превратить это формулы, как здесь:

* <mark>=o:</mark> левый полуапрош таких букв как c, d, e, g, q
* <mark>=o:</mark> правый полуапрош для b, p
* <mark>=n:</mark> левый для b, h, i, k, l, m, p, r
* <mark>=n:</mark> правый для a, h, m

Итак далее, и так далее, и так далее. Ваш путь может кардинально отличаться, потому что в конечном итоге все это зависит от дизайна ваших глифов. 

## Установка межбуквенных просветов прописных

В принципе, здесь та же история, что и со строчными буквами: правильно подберите значение для этих двух букв, и дело в шляпе. Но на этот раз вам также нужно, чтобы они подходили к строчным буквам. Если вы уделите этому внимание, то без труда сможете перенести значения полуапрошей на другие буквы:

* <mark>=H:</mark> левый полуапрош для B, D, E, F, I, K, L, M, N, P, R
* <mark>=H:</mark> правый полуапрош для I, M, N
* <mark>=O:</mark> левый для C, G, Q
* <mark>=O:v правый для D, Q

И так далее, и так далее, и так далее. Ну вы поняли. 

[//]: <> (* Automatic alignment *)

## Пакетная обработка

Хотите изменить метрики сразу для множества глифов? Если вы перейдете в меню *Glyph > Transform Metrics*, вы также сможете установить значения LSB и RSB для выбранных глифов. Если вы нажмете на флажок *Relative* (Относительный), он добавится к предыдущим значениям. Для уменьшения значений используйте отрицательные значения:

![Pic 9](https://cdn2.glyphsapp.com/media/pages/learn/spacing/7282a944fa-1642360516/transform-metrics-640x-q80.webp)

## Пока еще без кернинга

Постарайтесь обойтись без кернинга как можно дольше. В какой-то момент вы обнаружите, что больше не можете улучшать межбуквенные просветы. Тогда вы сможете приступить к кернингу, но не раньше. 
В противном случае, обнаружив более подходящий метод установки межбуквенных просветов, вам придется заново настраивать кернинг.